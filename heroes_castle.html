<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="utf-8" />
    <title>heroes_castle</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript">
    $(function show_spellbox() {
        $(document).ready(function() {
            var moveLeft = 0;
            var moveDown = 0;
            $('.heroes_spell').hover(function(e) {
                $.getJSON("json/spells_base.json", function(data) {
                    var item = data.spells.find(x => x.name === $(e.target).prop("alt"));
                    $("#spellbox_img").prop("src", $(e.target).prop("src"));
                    $("#spellbox_name").text(item.name);
                    $("#spellbox_lvl").text("Уровень: " + item.lvl);
                    $("#spellbox_cost").text("Стоимость: " + item.cost);
                    $("#spellbox_duration").text("Длительность: " + item.duration);
                    $("#spellbox_eff1").text(item.eff1);
                    $("#spellbox_eff2").text(item.eff2);
                    $("#spellbox_eff3").text(item.eff3);
                    $("#spellbox_descr").text(item.descr);
                });

                $("#spellbox").show();
                moveLeft = $(this).outerWidth();
                moveDown = ($("#spellbox").outerHeight() / 2);
            }, function() {
                if (!($(".heroes_spell").hasClass("show"))) {
                    $("#spellbox").hide();
                }
            });

            $('.heroes_spell').mousemove(function(e) {
                leftD = e.pageX + parseInt(moveLeft);
                maxRight = leftD + $("#spellbox").outerWidth();
                windowLeft = $(window).width() - 40;
                windowRight = 0;
                maxLeft = e.pageX - (parseInt(moveLeft) + $("#spellbox").outerWidth() + 20);

                if (maxRight > windowLeft && maxLeft > windowRight) {
                    leftD = maxLeft;
                }

                topD = e.pageY - parseInt(moveDown);
                maxBottom = parseInt(e.pageY + parseInt(moveDown) + 20);
                windowBottom = parseInt(parseInt($(document).scrollTop()) + parseInt($(window).height()));
                maxTop = topD;
                windowTop = parseInt($(document).scrollTop());
                if (maxBottom > windowBottom) {
                    topD = windowBottom - $("#spellbox").outerHeight() - 20;
                } else if (maxTop < windowTop) {
                    topD = windowTop + 20;
                }

                $("#spellbox").css('top', topD).css('left', leftD);
            });
            $('.heroes_spell').click(function(e) {
                if (!($(this).hasClass("show"))) {
                    $("#spellbox").show();
                }
                $(this).toggleClass("show");
            });
        });
    });
    $(function show_classbox() {
        $(document).ready(function() {
            var moveLeft = 0;
            var moveDown = 0;
            $('.heroes_class').hover(function(e) {
                $.getJSON("json/classes_base.json", function(data) {
                    var item = data.classes.find(x => x.name === $(e.target).text());
                    $("#classbox_name").text(item.name);
                    $("#classbox_att").text(item.att);
                    $("#classbox_def").text(item.def);
                    $("#classbox_pwr").text(item.pwr);
                    $("#classbox_knl").text(item.knl);
                    $("#classbox_descr").text(item.descr);
                });

                $("#classbox").show();
                moveLeft = $(this).outerWidth();
                moveDown = ($("#classbox").outerHeight() / 2);
            }, function() {
                if (!($(".heroes_class").hasClass("show"))) {
                    $("#classbox").hide();
                }
            });

            $('.heroes_class').mousemove(function(e) {
                leftD = e.pageX + parseInt(moveLeft);
                maxRight = leftD + $("#classbox").outerWidth();
                windowLeft = $(window).width() - 40;
                windowRight = 0;
                maxLeft = e.pageX - (parseInt(moveLeft) + $("#classbox").outerWidth() + 20);

                if (maxRight > windowLeft && maxLeft > windowRight) {
                    leftD = maxLeft;
                }

                topD = e.pageY - parseInt(moveDown);
                maxBottom = parseInt(e.pageY + parseInt(moveDown) + 20);
                windowBottom = parseInt(parseInt($(document).scrollTop()) + parseInt($(window).height()));
                maxTop = topD;
                windowTop = parseInt($(document).scrollTop());
                if (maxBottom > windowBottom) {
                    topD = windowBottom - $("#classbox").outerHeight() - 20;
                } else if (maxTop < windowTop) {
                    topD = windowTop + 20;
                }

                $("#classbox").css('top', topD).css('left', leftD);
            });
            $('.heroes_class').click(function(e) {
                if (!($(this).hasClass("show"))) {
                    $("#classbox").show();
                }
                $(this).toggleClass("show");
            });
        });
    });
    </script>
</head>

<body>
    <div id="full">
        <header style="height:15em;">
            <!--<img src="img/header.png" style="display:block;margin:auto;">-->
        </header>
        <main>
            <nav class="sticky">
                <a class="dropdown-btn">Герои</a>
                <div class="dropdown-container">
                    <a href="heroes.html">Список героев</a>
                    <a href="#">Вторичные навыки</a>
                    <a href="#">Специализации</a>
                </div>
                <a class="dropdown-btn">Артефакты</a>
                <div class="dropdown-container">
                    <a href="#">Все артефакты</a>
                    <a href="#">Сборные артефакты</a>
                </div>
                <a href="#">Магия</a>
                <a href="#">Ресурсы</a>
            </nav>
            <div id="content" class="window_blue">
                <table id="heroes_table">
                    <thead>
                        <tr>
                            <th rowspan="2">Имя героя</th>
                            <th rowspan="2">Класс</th>
                            <th rowspan="2">Специализация</th>
                            <th rowspan="2">Начальное<br>заклинание</th>
                            <th rowspan="2" colspan="2">Вторичные<br>навыки</th>
                            <th rowspan="2">ОП</th>
                            <th colspan="6">Войска</th>
                        </tr>
                        <tr>
                            <th>Существа</th>
                            <th>Кол-во</th>
                            <th>Существа</th>
                            <th>Кол-во</th>
                            <th>Существа</th>
                            <th>Кол-во</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <img src="img/heroes/castle/hero_orrin.png">
                                <br>
                                Оррин
                            </td>
                            <td><p class="heroes_class">Рыцарь</p></td>
                            <td><img src="img/speciality_skills/archery.png" alt="Стрельба"></td>
                            <td>-</td>
                            <td><img src="img/secondary_skills/Basic_Leadership.png" alt="Базовое Лидерство"></td>
                            <td><img src="img/secondary_skills/Basic_Archery.png" alt="Базовая Стрельба"></td>
                            <td>1560</td>
                            <td><img src="img/creatures/castle/lvl1.jpg" alt="Копейщик"></td>
                            <td>10-20</td>
                            <td><img src="img/creatures/castle/lvl2.jpg" alt="Арбалетчик"></td>
                            <td>4-7</td>
                            <td><img src="img/creatures/castle/lvl3.jpg" alt="Грифон"></td>
                            <td>2-3</td>
                        </tr>
                        <tr>
                            <td>
                                <img src="img/heroes/castle/hero_valeska.png">
                                <br>
                                Валеска
                            </td>
                            <td><p class="heroes_class">Рыцарь</p></td>
                            <td><img src="img/speciality_skills/archers.png" alt="Лучники"></td>
                            <td>-</td>
                            <td><img src="img/secondary_skills/Basic_Leadership.png" alt="Базовое Лидерство"></td>
                            <td><img src="img/secondary_skills/Basic_Archery.png" alt="Базовая Стрельба"></td>
                            <td>1630</td>
                            <td><img src="img/creatures/castle/lvl2.jpg" alt="Арбалетчик"></td>
                            <td>4-7</td>
                            <td><img src="img/creatures/castle/lvl2.jpg" alt="Арбалетчик"></td>
                            <td>4-7</td>
                            <td><img src="img/creatures/castle/lvl2.jpg" alt="Арбалетчик"></td>
                            <td>4-7</td>
                        </tr>
                        <tr>
                            <td>
                                <img src="img/heroes/castle/hero_edric.png">
                                <br>
                                Эдрик
                            </td>
                            <td><p class="heroes_class">Рыцарь</p></td>
                            <td><img src="img/speciality_skills/griffins.png" alt="Грифоны"></td>
                            <td>-</td>
                            <td><img src="img/secondary_skills/Basic_Leadership.png" alt="Базовое Лидерство"></td>
                            <td><img src="img/secondary_skills/Basic_Armorer.png" alt="Базовые Доспехи"></td>
                            <td>1560</td>
                            <td><img src="img/creatures/castle/lvl1.jpg" alt="Копейщик"></td>
                            <td>10-20</td>
                            <td><img src="img/creatures/castle/lvl3.jpg" alt="Грифон"></td>
                            <td>2-3</td>
                            <td><img src="img/creatures/castle/lvl3.jpg" alt="Грифон"></td>
                            <td>2-3</td>
                        </tr>
                        <tr>
                            <td>
                                <img src="img/heroes/castle/hero_sylvia.png">
                                <br>
                                Сильвия
                            </td>
                            <td><p class="heroes_class">Рыцарь</p></td>
                            <td><img src="img/speciality_skills/navigation.png" alt="Навигация"></td>
                            <td>-</td>
                            <td><img src="img/secondary_skills/Basic_Leadership.png" alt="Базовое Лидерство"></td>
                            <td><img src="img/secondary_skills/Basic_Navigation.png" alt="Базовая Навигация"></td>
                            <td>1560</td>
                            <td><img src="img/creatures/castle/lvl1.jpg" alt="Копейщик"></td>
                            <td>10-20</td>
                            <td><img src="img/creatures/castle/lvl2.jpg" alt="Арбалетчик"></td>
                            <td>4-7</td>
                            <td><img src="img/creatures/castle/lvl3.jpg" alt="Грифон"></td>
                            <td>2-3</td>
                        </tr>
                        <tr>
                            <td>
                                <img src="img/heroes/castle/hero_sir_mullich.png">
                                <br>
                                Сэр Мюллих
                            </td>
                            <td><p class="heroes_class">Рыцарь</p></td>
                            <td><img src="img/speciality_skills/speed.png" alt="Скорость"></td>
                            <td>-</td>
                            <td><img src="img/secondary_skills/Advanced_Leadership.png" alt="Продвинутое Лидерство"></td>
                            <td>-</td>
                            <td>1560</td>
                            <td><img src="img/creatures/castle/lvl1.jpg" alt="Копейщик"></td>
                            <td>10-20</td>
                            <td><img src="img/creatures/castle/lvl2.jpg" alt="Арбалетчик"></td>
                            <td>4-7</td>
                            <td><img src="img/creatures/castle/lvl3.jpg" alt="Грифон"></td>
                            <td>2-3</td>
                        </tr>
                        <tr>
                            <td>
                                <img src="img/heroes/castle/hero_sorsha.png">
                                <br>
                                Сорша
                            </td>
                            <td><p class="heroes_class">Рыцарь</p></td>
                            <td><img src="img/speciality_skills/swordsmen.png" alt="Мечники"></td>
                            <td>-</td>
                            <td><img src="img/secondary_skills/Basic_Leadership.png" alt="Базовое Лидерство"></td>
                            <td><img src="img/secondary_skills/Basic_Offense.png" alt="Базовое Нападение"></td>
                            <td>1560</td>
                            <td><img src="img/creatures/castle/lvl1.jpg" alt="Копейщик"></td>
                            <td>10-20</td>
                            <td><img src="img/creatures/castle/lvl2.jpg" alt="Арбалетчик"></td>
                            <td>4-7</td>
                            <td><img src="img/creatures/castle/lvl3.jpg" alt="Грифон"></td>
                            <td>2-3</td>
                        </tr>
                        <tr>
                            <td>
                                <img src="img/heroes/castle/hero_christian.png">
                                <br>
                                Кристиан
                            </td>
                            <td><p class="heroes_class">Рыцарь</p></td>
                            <td><img src="img/speciality_skills/ballista.png" alt="Баллиста"></td>
                            <td>-</td>
                            <td><img src="img/secondary_skills/Basic_Leadership.png" alt="Базовое Лидерство"></td>
                            <td><img src="img/secondary_skills/Basic_Artillery.png" alt="Базовая Артиллерия"></td>
                            <td>1560</td>
                            <td><img src="img/creatures/castle/lvl1.jpg" alt="Копейщик"></td>
                            <td>10-20</td>
                            <td><img src="img/creatures/war_machines/ballista.png" alt="Баллиста"></td>
                            <td>1</td>
                            <td><img src="img/creatures/castle/lvl3.jpg" alt="Грифон"></td>
                            <td>2-3</td>
                        </tr>
                        <tr>
                            <td>
                                <img src="img/heroes/castle/hero_tyris.png">
                                <br>
                                Турис
                            </td>
                            <td><p class="heroes_class">Рыцарь</p></td>
                            <td><img src="img/speciality_skills/cavaliers.png" alt="Кавалеристы"></td>
                            <td>-</td>
                            <td><img src="img/secondary_skills/Basic_Leadership.png" alt="Базовое Лидерство"></td>
                            <td><img src="img/secondary_skills/Basic_Tactics.png" alt="Базовая Тактика"></td>
                            <td>1560</td>
                            <td><img src="img/creatures/castle/lvl1.jpg" alt="Копейщик"></td>
                            <td>10-20</td>
                            <td><img src="img/creatures/castle/lvl2.jpg" alt="Арбалетчик"></td>
                            <td>4-7</td>
                            <td><img src="img/creatures/castle/lvl3.jpg" alt="Грифон"></td>
                            <td>2-3</td>
                        </tr>
                        <tr>
                            <td>
                                <img src="img/heroes/castle/hero_rion.png">
                                <br>
                                Рион
                            </td>
                            <td><p class="heroes_class">Священник</p></td>
                            <td><img src="img/speciality_skills/first_aid.png" alt="Первая помощь"></td>
                            <td><img src="img/spells/stone_skin.png" class="heroes_spell" data-popbox="spellbox" alt="Каменная кожа"></td>
                            <td><img src="img/secondary_skills/Basic_Wisdom.png" alt="Базовая Мудрость"></td>
                            <td><img src="img/secondary_skills/Basic_First_Aid.png" alt="Базовая Первая Помощь"></td>
                            <td>1560</td>
                            <td><img src="img/creatures/castle/lvl1.jpg" alt="Копейщик"></td>
                            <td>10-20</td>
                            <td><img src="img/creatures/war_machines/First_Aid_Tent.png" alt="Палатка первой помощи"></td>
                            <td>1</td>
                            <td><img src="img/creatures/castle/lvl3.jpg" alt="Грифон"></td>
                            <td>2-3</td>
                        </tr>
                        <tr>
                            <td>
                                <img src="img/heroes/castle/hero_adela.png">
                                <br>
                                Адель
                            </td>
                            <td><p class="heroes_class">Священник</p></td>
                            <td><img src="img/speciality_skills/bless.png" alt="Благословление"></td>
                            <td><img src="img/spells/bless.png" class="heroes_spell" data-popbox="spellbox" alt="Благословление"></td>
                            <td><img src="img/secondary_skills/Basic_Wisdom.png" alt="Базовая Мудрость"></td>
                            <td><img src="img/secondary_skills/Basic_Diplomacy.png" alt="Базовая Дипломатия"></td>
                            <td>1560</td>
                            <td><img src="img/creatures/castle/lvl1.jpg" alt="Копейщик"></td>
                            <td>10-20</td>
                            <td><img src="img/creatures/castle/lvl2.jpg" alt="Арбалетчик"></td>
                            <td>4-7</td>
                            <td><img src="img/creatures/castle/lvl3.jpg" alt="Грифон"></td>
                            <td>2-3</td>
                        </tr>
                        <tr>
                            <td>
                                <img src="img/heroes/castle/hero_cuthbert.png">
                                <br>
                                Катберт
                            </td>
                            <td><p class="heroes_class">Священник</p></td>
                            <td><img src="img/speciality_skills/weakness.png" alt="Слабость"></td>
                            <td><img src="img/spells/weakness.png" class="heroes_spell" data-popbox="spellbox" alt="Слабость"></td>
                            <td><img src="img/secondary_skills/Basic_Wisdom.png" alt="Базовая Мудрость"></td>
                            <td><img src="img/secondary_skills/Basic_Estates.png" alt="Базовое Имущество"></td>
                            <td>1560</td>
                            <td><img src="img/creatures/castle/lvl1.jpg" alt="Копейщик"></td>
                            <td>10-20</td>
                            <td><img src="img/creatures/castle/lvl2.jpg" alt="Арбалетчик"></td>
                            <td>4-7</td>
                            <td><img src="img/creatures/castle/lvl3.jpg" alt="Грифон"></td>
                            <td>2-3</td>
                        </tr>
                        <tr>
                            <td>
                                <img src="img/heroes/castle/hero_adelaide.png">
                                <br>
                                Аделаида
                            </td>
                            <td><p class="heroes_class">Священник</p></td>
                            <td><img src="img/speciality_skills/frost_ring.png" alt="Ледяное кольцо"></td>
                            <td><img src="img/spells/frost_ring.png" class="heroes_spell" data-popbox="spellbox" alt="Ледяное кольцо"></td>
                            <td><img src="img/secondary_skills/Advanced_Wisdom.png" alt="Продвинутая Мудрость"></td>
                            <td>-</td>
                            <td>1560</td>
                            <td><img src="img/creatures/castle/lvl1.jpg" alt="Копейщик"></td>
                            <td>10-20</td>
                            <td><img src="img/creatures/castle/lvl2.jpg" alt="Арбалетчик"></td>
                            <td>4-7</td>
                            <td><img src="img/creatures/castle/lvl3.jpg" alt="Грифон"></td>
                            <td>2-3</td>
                        </tr>
                        <tr>
                            <td>
                                <img src="img/heroes/castle/hero_ingham.png">
                                <br>
                                Инхам
                            </td>
                            <td><p class="heroes_class">Священник</p></td>
                            <td><img src="img/speciality_skills/monks.png" alt="Монахи"></td>
                            <td><img src="img/spells/curse.png" class="heroes_spell" data-popbox="spellbox" alt="Проклятие"></td>
                            <td><img src="img/secondary_skills/Basic_Wisdom.png" alt="Базовая Мудрость"></td>
                            <td><img src="img/secondary_skills/Basic_Mysticism.png" alt="Базовый Мистицизм"></td>
                            <td>1560</td>
                            <td><img src="img/creatures/castle/lvl1.jpg" alt="Копейщик"></td>
                            <td>10-20</td>
                            <td><img src="img/creatures/castle/lvl2.jpg" alt="Арбалетчик"></td>
                            <td>4-7</td>
                            <td><img src="img/creatures/castle/lvl3.jpg" alt="Грифон"></td>
                            <td>2-3</td>
                        </tr>
                        <tr>
                            <td>
                                <img src="img/heroes/castle/hero_sanya.png">
                                <br>
                                Саня
                            </td>
                            <td><p class="heroes_class">Священник</p></td>
                            <td><img src="img/speciality_skills/eagle_eye.png" alt="Зоркость"></td>
                            <td><img src="img/spells/dispel.png" class="heroes_spell" data-popbox="spellbox" alt="Снятие заклинаний"></td>
                            <td><img src="img/secondary_skills/Basic_Wisdom.png" alt="Базовая Мудрость"></td>
                            <td><img src="img/secondary_skills/Basic_Eagle_Eye.png" alt="Базовая Зоркость"></td>
                            <td>1560</td>
                            <td><img src="img/creatures/castle/lvl1.jpg" alt="Копейщик"></td>
                            <td>10-20</td>
                            <td><img src="img/creatures/castle/lvl2.jpg" alt="Арбалетчик"></td>
                            <td>4-7</td>
                            <td><img src="img/creatures/castle/lvl3.jpg" alt="Грифон"></td>
                            <td>2-3</td>
                        </tr>
                        <tr>
                            <td>
                                <img src="img/heroes/castle/hero_loynis.png">
                                <br>
                                Лоинс
                            </td>
                            <td><p class="heroes_class">Священник</p></td>
                            <td><img src="img/speciality_skills/prayer.png" alt="Молитва"></td>
                            <td><img src="img/spells/prayer.png" class="heroes_spell" data-popbox="spellbox" alt="Молитва"></td>
                            <td><img src="img/secondary_skills/Basic_Wisdom.png" alt="Базовая Мудрость"></td>
                            <td><img src="img/secondary_skills/Basic_Learning.png" alt="Базовое Обучение"></td>
                            <td>1560</td>
                            <td><img src="img/creatures/castle/lvl1.jpg" alt="Копейщик"></td>
                            <td>10-20</td>
                            <td><img src="img/creatures/castle/lvl2.jpg" alt="Арбалетчик"></td>
                            <td>4-7</td>
                            <td><img src="img/creatures/castle/lvl3.jpg" alt="Грифон"></td>
                            <td>2-3</td>
                        </tr>
                        <tr>
                            <td>
                                <img src="img/heroes/castle/hero_caitlin.png">
                                <br>
                                Каитлин
                            </td>
                            <td><p class="heroes_class">Священник</p></td>
                            <td><img src="img/speciality_skills/350gold.png" alt="350 золота"></td>
                            <td><img src="img/spells/cure.png" class="heroes_spell" data-popbox="spellbox" alt="Лечение"></td>
                            <td><img src="img/secondary_skills/Basic_Wisdom.png" alt="Базовая мудрость"></td>
                            <td><img src="img/secondary_skills/Basic_Intelligence.png" alt="Базовый Интеллект"></td>
                            <td>1560</td>
                            <td><img src="img/creatures/castle/lvl1.jpg" alt="Копейщик"></td>
                            <td>10-20</td>
                            <td><img src="img/creatures/castle/lvl2.jpg" alt="Арбалетчик"></td>
                            <td>4-7</td>
                            <td><img src="img/creatures/castle/lvl3.jpg" alt="Грифон"></td>
                            <td>2-3</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </main>
        <div id="spellbox" class="popbox">
            <img id="spellbox_img"><br>
            <p id="spellbox_name"></p><br>
            <!--Уровень-->
            <p id="spellbox_lvl"></p><br>
            <!--Стоимость-->
            <p id="spellbox_cost"></p><br>
            <!--Длительность-->
            <p id="spellbox_duration"></p><br><br>
            <!--1ур-->
            <p id="spellbox_eff1"></p><br>
            <!--2ур-->
            <p id="spellbox_eff2"></p><br>
            <!--3ур-->
            <p id="spellbox_eff3"></p>
            <!--Описание-->
            <p id="spellbox_descr"></p>
        </div>
        <div id="classbox" class="popbox">
            <p id="classbox_name"></p><br>
            <table>
                <thead>
                    <tr>
                        <th>Атака</th>
                        <th>Защита</th>
                        <th>Сила заклинаний</th>
                        <th>Знания</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td id="classbox_att"></td>
                        <td id="classbox_def"></td>
                        <td id="classbox_pwr"></td>
                        <td id="classbox_knl"></td>
                    </tr>
                </tbody>
            </table>
            <p id="classbox_descr"></p>
        </div>
    </div>
    <script type="text/javascript">
    var dropdown = document.getElementsByClassName("dropdown-btn");
    for (var i = 0; i < dropdown.length; i++) {
        dropdown[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var dropdownContent = this.nextElementSibling;
            if (dropdownContent.style.display === "block") {
                dropdownContent.style.display = "none";
            } else {
                dropdownContent.style.display = "block";
            }
        });
    }
    </script>
</body>

</html>